<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
        var global = [
            ["Days", "Confirmed Cases", "Deaths", "Recovered"]
        ];
        var json = fetch("https://api.covid19api.com/total/country/united-states")
            .then((response) => {
                return response.json();
            })
            .then((data) => {
                createData(data);
            });

        function createData(dict) {
            var i = 1;
            for (var key in dict) {
                var temp = dict[key];
                global.push([i, temp.Confirmed, temp.Deaths, temp.Recovered]);
                i += 1;
            }
            console.log(global);
            google.charts.load('current', {
                'packages': ['corechart']
            });
            google.charts.setOnLoadCallback(drawChart);
        }

        function drawChart() {
            var data = google.visualization.arrayToDataTable(global);

            var options = {
                title: 'USA cases',
                curveType: 'function',
                legend: {
                    position: 'bottom'
                }
            };

            var chart = new google.visualization.LineChart(document.getElementById('curve_chart'));

            chart.draw(data, options);
        }
    </script>
    <style>
        * {
            margin: 0px;
        }
        
        body {
            display: inline-flex;
            background-color: #D7D7D7;
            color: rgb(95, 95, 95);
            height: 750px;
        }
        
        nav {
            margin: auto;
            padding: 10px 15px;
        }
        
        p {
            padding: 10 0px;
        }
        
        a {
            margin: 10px;
        }
        
        a:visited,
        a:link {
            text-decoration: none;
            color: rgb(95, 95, 95);
            background-color: rgba(247, 253, 255, 0.911);
            padding: 14px 25px;
            text-align: center;
            display: inline-block;
            border-radius: 4%;
            width: 100px;
        }
        
        a:hover {
            text-decoration: underline;
            color: rgb(255, 255, 255);
            background-color: rgb(223, 195, 195);
            padding: 14px 25px;
            text-align: center;
            display: inline-block;
            border-radius: 4%;
        }
    </style>
</head>

<body>
    <nav>
        <p><a href="index.html">Main</a></p>
        <p><a href="death.html">Deaths</a></p>
        <p><a href="recovered.html">Recovered</a></p>
        <p><a href="infected.html">Infected</a></p>
    </nav>
    <div id="curve_chart" style="width: 900px; height: 500px"></div>

</body>

</html>